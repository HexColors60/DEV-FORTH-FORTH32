\ SIMPLE VIEW UTILTIY

: VIEW@ ( xt -- line# c-addr u )
   >VIEW @ DUP $FFFFFF AND SWAP -24 SHIFT
   CELLS VIEW-FILES + @ COUNT $1F AND ;

EDITOR ALSO

' VIEW@ IS _VIEW@

: VIEWER ( caddr -- )
   XFIND IF VIEW@ VIEWING ED ELSE DROP ." can't" THEN ;

ONLY FORTH ALSO DEFINITIONS EDITOR ALSO

: VIEW
   BL WORD VIEWER ;

ONLY FORTH ALSO DEFINITIONS


: VIEW@ ( xt -- line# c-addr u )
   >VIEW @ DUP $FFFFFF AND SWAP 24 RSHIFT
   DUP 255 = ABORT" Can't view keyboard definitions"
   CELLS VIEW-FILES + @ COUNT $1F AND ;

: GOVIEW ( line# c-addr u -- )
   BUILD_MESSAGE INVOKE_VIEWER ;

: VIEWING ( caddr -- )
   XFIND IF VIEW@ GOVIEW ELSE DROP ." can't" THEN ;

ONLY FORTH ALSO DEFINITIONS VIEWER ALSO

: VIEW
   BL WORD VIEWING ;

: SEE
   VIEW ;
   
ONLY FORTH ALSO DEFINITIONS

